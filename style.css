/*
 * Variables CSS: La paleta de colores y las propiedades de diseño
 * están inspiradas en la estética de WOM, pero refinadas para un look neumórfico
 * más profundo y sofisticado, con un contraste óptimo y un toque premium.
 */
:root {
    --bg-color: #1A0030; /* Púrpura muy oscuro, casi negro, para el fondo y elementos principales */
    --primary-accent: #FF00FF; /* Fucsia vibrante para el brillo principal (WOM) */
    --secondary-accent: #A000A0; /* Un fucsia-magenta ligeramente más oscuro para acentos sutiles */
    --tertiary-accent: #00FFFF; /* Cian vibrante para un contraste dinámico */
    --light-shadow: #300050; /* Sombra clara para el efecto neumórfico (arriba-izquierda), ajustada al nuevo fondo */
    --dark-shadow: #0A0018; /* Sombra oscura para el efecto neumórfico (abajo-derecha), ajustada al nuevo fondo */
    --text-light: #FFFFFF; /* Texto principal blanco para máxima legibilidad */
    --text-dark: #E0E0E0; /* Texto secundario ligeramente grisáceo, aún brillante */
    --border-radius-lg: 32px; /* Radio de borde grande para contenedores principales */
    --border-radius-md: 20px; /* Radio de borde medio para botones/tarjetas */
    --status-bar-height: 0px; /* Altura de la barra de estado ahora es 0 */
    --nav-bar-height: 75px;
    --message-box-success: #4CAF50; /* Verde para mensajes de éxito */
    --message-box-error: #F44336; /* Rojo para mensajes de error */
    --message-box-info: #2196F3; /* Azul para mensajes de información */

    /* Nuevas variables para el estilo de modal de la imagen (glassmorphism) */
    /* Ajustados a RGBA para mayor transparencia en el contenido del modal */
    --modal-bg-gradient-start: rgba(26, 0, 48, 0.85); /* Púrpura más claro con 85% de opacidad, ajustado */
    --modal-bg-gradient-end: rgba(50, 0, 80, 0.85); /* Púrpura más intenso con 85% de opacidad, ajustado */
    --modal-input-border: #600090; /* Borde de input más claro, ajustado */
    --modal-input-text: #E0E0E0; /* Color de texto para inputs */
    --modal-button-gradient-start: #FF00FF; /* Fucsia para el inicio del botón */
    --modal-button-gradient-end: #8A00C0; /* Púrpura para el final del botón */
    --modal-text-color: #FFFFFF; /* Color de texto general del modal */
    --modal-link-color: #00FFFF; /* Cian para enlaces (ej. Forgot Password) */
}

/*
 * Reset básico y tipografía fluida.
 * La fuente 'Inter' es limpia y moderna, ideal para interfaces.
 * Se utiliza `clamp()` para asegurar un tamaño de fuente responsivo y legible.
 */
html, body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
    height: 100%; /* Asegura que html y body ocupen toda la altura */
    min-height: 100vh; /* Asegura que html y body ocupen al menos el 100% del viewport */
    background: var(--bg-color); /* Fondo base */
    color: var(--text-dark);
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    overflow: hidden; /* Evita barras de desplazamiento en el cuerpo */
    /* Sutil gradiente radial para añadir profundidad al fondo, creando un "escenario" para el neumorfismo */
    background: radial-gradient(circle at 50% 50%, #250040 0%, var(--bg-color) 100%); /* Ajustado al nuevo color */

    /* Propiedades para evitar la selección de texto al tocar con el dedo */
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none;   /* Safari */
    -khtml-user-select: none;    /* Konqueror HTML */
    -moz-user-select: none;      /* Old versions of Firefox */
    -ms-user-select: none;       /* Internet Explorer/Edge */
    user-select: none;           /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}

/* Ocultar barra de desplazamiento para navegadores basados en WebKit (Chrome, Safari) */
body::-webkit-scrollbar, html::-webkit-scrollbar {
    display: none;
}

/* Ocultar barra de desplazamiento para IE, Edge y Firefox */
body, html {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}


/*
 * Contenedor principal que ahora simula un marco de dispositivo en pantallas grandes.
 */
.app-frame {
    width: 390px; /* Ancho de un iPhone moderno para simular dispositivo */
    height: 844px; /* Alto de un iPhone moderno para simular dispositivo */
    background-color: var(--bg-color); /* Usa el color de fondo principal */
    border-radius: 48px; /* Bordes redondeados pronunciados para el marco del dispositivo */
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.6); /* Sombra difusa y fuerte para el dispositivo */
    overflow: hidden; /* Oculta el contenido fuera del marco */
    display: flex;
    flex-direction: column;
    position: relative;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Transición suave para redimensionamiento */
}

/*
 * Barra de estado superior - AHORA OCULTA.
 */
.status-bar {
    display: none; /* Oculta completamente la barra de estado */
    height: var(--status-bar-height); /* Esto será 0px */
    background-color: var(--bg-color);
    justify-content: space-between;
    align-items: center;
    padding: 0 25px;
    color: var(--text-dark);
    font-size: 0.95em;
    font-weight: 500;
    border-top-left-radius: 40px; /* Ajusta al radio del app-frame */
    border-top-right-radius: 40px; /* Ajusta al radio del app-frame */
    box-shadow: inset 3px 3px 7px var(--dark-shadow), inset -3px -3px 7px var(--light-shadow);
    z-index: 10;
}

.status-bar .left, .status-bar .right {
    display: flex;
    align-items: center;
    gap: 10px;
}

/*
 * Área de contenido principal. Ahora con overflow: auto para permitir el desplazamiento interno.
 */
.app-content {
    flex-grow: 1;
    overflow-y: auto; /* Cambiado a auto para permitir el desplazamiento interno */
    padding: 20px;
    background-color: var(--bg-color);
    padding-top: 20px; /* Ajustado para eliminar el espacio de la barra de estado */
    padding-bottom: calc(var(--nav-bar-height) + 20px);
    -webkit-overflow-scrolling: touch; /* Desplazamiento suave en iOS */
}

/*
 * Sección de encabezado con barra de progreso.
 * Tipografía fluida para un diseño adaptable y una barra de progreso integrada.
 */
.header-section {
    text-align: center;
    margin-bottom: 30px;
}

.header-section h2 {
    color: var(--text-light);
    font-size: clamp(1.1em, 3vw, 1.3em); /* Tamaño de fuente fluido */
    font-weight: 600;
    margin-bottom: 15px;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.progress-bar-container {
    background-color: var(--dark-shadow);
    border-radius: 10px;
    height: 8px;
    margin: 0 auto;
    width: 80%;
    box-shadow: inset 2px 2px 5px var(--dark-shadow), inset -2px -2px 5px var(--light-shadow);
}

.progress-bar-fill {
    background-color: var(--primary-accent);
    border-radius: 10px;
    height: 100%;
    width: 60%; /* Ejemplo de progreso, se puede animar con JS */
    transition: width 0.5s ease-out;
}

.question-text {
    color: var(--primary-accent);
    font-size: clamp(1.4em, 4vw, 1.8em); /* Tamaño de fuente fluido y más grande */
    font-weight: 700;
    margin-top: 30px;
    margin-bottom: 25px;
    /* Sombra de texto sutil para el brillo y un efecto de relieve */
    text-shadow: 0 0 8px rgba(255, 0, 255, 0.4), 1px 1px 2px rgba(0, 0, 0, 0.3); 
}

/*
 * Lista de elementos de módulo: el corazón de la interacción.
 * Se han mejorado los estados de `:hover` y `:active` para una respuesta táctil premium.
 */
.module-list {
    display: flex;
    flex-direction: column;
    gap: 18px;
    margin-bottom: 30px;
}

.module-item {
    background-color: var(--bg-color);
    border-radius: var(--border-radius-md);
    /* Sombras más suaves y profundas para el estado normal */
    box-shadow: 
        8px 8px 16px var(--dark-shadow), 
        -8px -8px 16px var(--light-shadow),
        inset 0 0 5px rgba(255, 255, 255, 0.02); /* Sutil brillo interno */
    padding: 18px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Curva de animación más elegante */
    will-change: transform, box-shadow; /* Optimización para animaciones */
}

.module-item:hover {
    /* Brillo fucsia más intenso al pasar el ratón, manteniendo las sombras neumórficas */
    box-shadow: 
        0 0 25px 10px var(--primary-accent), 
        8px 8px 16px var(--dark-shadow), -8px -8px 16px var(--light-shadow);
    transform: translateY(-5px) scale(1.01); /* Ligero levantamiento y escala para un efecto "flotante" */
}

.module-item:active {
    /* Efecto de presión más pronunciado con un brillo interno y un pequeño halo */
    box-shadow: 
        inset 4px 4px 8px var(--dark-shadow), 
        inset -4px -4px 8px var(--light-shadow),
        0 0 15px 5px rgba(255, 255, 255, 0.15); 
    transform: translateY(0) scale(0.98); /* Se presiona ligeramente */
}

.module-item-left {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Contenedor del icono: un botón redondeado con efecto de presión neumórfico. */
.icon-container {
    background-color: var(--bg-color);
    width: 48px; /* Ligeramente más grande */
    height: 48px; /* Ligeramente más grande */
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    /* Sombra interna y un brillo blanco sutil para un efecto de "profundidad" */
    box-shadow: 
        inset 3px 3px 7px var(--dark-shadow), 
        inset -3px -3px 7px var(--light-shadow),
        0 0 10px 3px rgba(255, 255, 255, 0.1); 
    transition: box-shadow 0.3s ease, transform 0.3s ease;
    will-change: transform, box-shadow;
}

.module-icon {
    color: var(--primary-accent);
    font-size: 1.8em; /* Icono ligeramente más grande */
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

.module-item:active .icon-container {
    /* Brillo intenso al presionar el icono */
    box-shadow: 
        inset 2px 2px 5px var(--dark-shadow), 
        inset -2px -2px 5px var(--light-shadow),
        0 0 30px 12px var(--primary-accent);
    transform: scale(0.92); /* Efecto de presión más pronunciado */
}

.module-name {
    color: var(--text-light);
    font-size: 1.1em;
    font-weight: 600;
}

.module-info {
    display: none; /* Mantener oculto por ahora, pero listo para ser usado */
    color: var(--secondary-accent);
    font-size: 0.9em;
    font-weight: 500;
}

.module-arrow i {
    color: var(--secondary-accent);
    font-size: 1.2em;
}

/*
 * Botón de acción principal: "Ingreso de Venta".
 * Efectos de sombra y transformación para una experiencia táctil y visualmente atractiva.
 */
.main-action-button {
    background-color: var(--bg-color);
    color: var(--primary-accent);
    border: none;
    border-radius: var(--border-radius-md);
    box-shadow: 10px 10px 20px var(--dark-shadow), -10px -10px 20px var(--light-shadow);
    padding: 20px 30px;
    font-size: 1.1em;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    width: calc(100% - 60px);
    margin: 0 auto 30px auto;
    display: block;
    will-change: transform, box-shadow;
}

.main-action-button:hover {
    box-shadow: inset 7px 7px 14px var(--dark-shadow), inset -7px -7px 14px var(--light-shadow);
    transform: scale(0.98);
}

.main-action-button:active {
    box-shadow: inset 5px 5px 10px var(--dark-shadow), inset -5px -5px 10px var(--light-shadow),
                0 0 35px 15px var(--primary-accent); /* Brillo más fuerte al presionar */
    transform: scale(0.93); /* Efecto de presión más profundo */
}

#btn-ingreso-venta-main {
    color: var(--tertiary-accent); /* Color cian para este botón específico */
}

#btn-ingreso-venta-main:active {
    box-shadow: inset 5px 5px 10px var(--dark-shadow), inset -5px -5px 10px var(--light-shadow),
                0 0 35px 15px var(--tertiary-accent); /* Brillo cian al presionar */
}

/*
 * Barra de navegación inferior (El Dock de macOS).
 * Diseño glassmorphism con efectos de magnificación y transiciones fluidas.
 * Ahora ocupa todo el ancho y no tiene perspectiva 3D.
 */
.nav-bar {
    position: absolute;
    bottom: 0; /* Pegado al fondo */
    left: 0;
    right: 0;
    height: var(--nav-bar-height);
    background-color: rgba(26, 0, 48, 0.7); /* Fondo semi-transparente, ajustado al nuevo color */
    backdrop-filter: blur(20px); /* Efecto de cristal esmerilado */
    -webkit-backdrop-filter: blur(20px); /* Compatibilidad con WebKit */
    border-bottom-left-radius: 40px; /* Ajusta al radio del app-frame */
    border-bottom-right-radius: 40px; /* Ajusta al radio del app-frame */
    display: flex; /* Direct flex container for items */
    align-items: flex-end; /* Alinea los ítems en la parte inferior para que crezcan hacia arriba */
    box-shadow: inset 3px 3px 7px var(--dark-shadow), inset -3px -3px 7px var(--light-shadow); /* Sombra interna neumórfica */
    z-index: 10;
    width: 100%; /* Ocupa todo el ancho */

    /* Propiedades para el carrusel táctil */
    overflow-x: scroll; /* Permite el desplazamiento horizontal */
    scroll-snap-type: x mandatory; /* Fuerza el "snap" a los ítems */
    -webkit-overflow-scrolling: touch; /* Desplazamiento suave en iOS */
    scrollbar-width: none; /* Oculta la barra de desplazamiento para Firefox */
    -ms-overflow-style: none;  /* Oculta la barra de desplazamiento para IE y Edge */
    gap: 15px; /* Espacio entre los ítems del dock */
    padding-left: 50px; /* Padding para permitir que el primer ítem se centre */
    padding-right: 50px; /* Padding para permitir que el último ítem se centre */

    cursor: grab; /* Indica que es arrastrable */
    touch-action: pan-x; /* Permite el desplazamiento horizontal táctil */
    /* Eliminamos la transformación 3D */
    transform: none; 
    transform-origin: unset;
}

.nav-bar:active {
    cursor: grabbing; /* Indica que se está arrastrando */
}

/* Reflejo del Dock - Eliminado */
.nav-bar::after {
    display: none;
}

/* Oculta la barra de desplazamiento para navegadores basados en WebKit (Chrome, Safari) */
.nav-bar::-webkit-scrollbar {
    display: none;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--text-dark);
    font-size: 0.85em;
    cursor: pointer;
    padding: 5px 10px; /* Espaciado interno para cada ítem */
    border-radius: 10px;
    transition: color 0.3s ease, box-shadow 0.3s ease; /* Transiciones solo para color y sombra */
    will-change: transform, color, box-shadow;
    position: relative; /* Para el posicionamiento del texto */
    overflow: visible; /* Permite que el icono magnificado y el texto se salgan del contenedor del ítem */
    flex-shrink: 0; /* Evita que los ítems se encojan */
    scroll-snap-align: center; /* Permite que el scroll se "enganche" a este ítem */
    min-width: 60px; /* Asegura un ancho mínimo para cada ítem */
    height: 100%; /* Ocupa la altura completa del nav-bar */
    justify-content: flex-end; /* Alinea el contenido en la parte inferior */
}

.nav-item i {
    font-size: 1.6em;
    margin-bottom: 6px;
    /* La transformación de escala ahora es controlada por JavaScript */
    transition: transform 0.15s ease-out, text-shadow 0.3s ease, color 0.3s ease; /* Transición más rápida para escala */
    transform-origin: bottom center; /* El icono se magnifica desde la base */
    will-change: transform, text-shadow;
}

.nav-item span {
    position: absolute;
    bottom: -20px; /* Oculto inicialmente debajo del ítem */
    opacity: 0;
    font-size: 0.75em; /* Tamaño de texto más pequeño para el label */
    font-weight: 500;
    color: var(--text-light);
    /* Transición más suave para la aparición del texto */
    transition: opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    will-change: opacity, transform;
    white-space: nowrap; /* Evita que el texto se rompa en varias líneas */
    pointer-events: none; /* Asegura que el texto no interfiera con los eventos del icono */
    background-color: rgba(0, 0, 0, 0.7); /* Fondo para el tooltip del texto */
    padding: 4px 8px;
    border-radius: 5px;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.3); /* Sombra de texto para el brillo */
}

/* Estado de "hover" (solo para color y sombra de texto, escala por JS) */
.nav-item:hover {
    color: var(--primary-accent);
    text-shadow: 0 0 10px var(--primary-accent), 0 0 15px rgba(255, 0, 255, 0.5); /* Brillo sutil en el icono */
}

/* Estado "activo" (solo para color y sombra de texto, escala por JS) */
.nav-item.active {
    color: var(--primary-accent);
    font-weight: 600;
    /* Sombra interna sutil para el efecto de "presionado" */
    box-shadow: inset 2px 2px 5px var(--dark-shadow), inset -2px -2px 5px var(--light-shadow);
    text-shadow: 0 0 20px var(--primary-accent), 0 0 35px rgba(255, 0, 255, 0.9);
}

/*
 * Caja de mensajes personalizados (reemplazo de alert/confirm).
 * Animación de entrada y salida suave para una retroalimentación no intrusiva.
 */
#custom-message-box {
    position: fixed;
    top: 25px;
    right: 25px;
    background-color: var(--message-box-success); /* Color por defecto */
    color: white;
    padding: 18px 30px;
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3); /* Sombra más suave */
    z-index: 1000;
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                background-color 0.3s ease;
    font-family: 'Inter', sans-serif;
    font-size: 1.05em;
    min-width: 200px; /* Asegura que el mensaje sea visible */
    text-align: center;
}

/*
 * Estilos generales de los modales.
 * Transiciones elegantes para la aparición y desaparición, con un fondo más oscuro para enfoque.
 */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Fondo más oscuro para mayor enfoque, ligeramente más transparente */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s ease, visibility 0.4s ease;
    /* Añadir un sutil desenfoque al fondo detrás del modal para un efecto más premium */
    backdrop-filter: blur(8px); /* Aumento del desenfoque para un efecto más "glassy" */
    -webkit-backdrop-filter: blur(8px);
}

.modal-overlay.show {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: var(--bg-color); /* Fallback */
    padding: 35px; /* Ligeramente más padding para un look más espacioso */
    border-radius: var(--border-radius-lg);
    box-shadow: 
        15px 15px 30px rgba(0, 0, 0, 0.6), /* Sombra principal más oscura y difusa */
        -15px -15px 30px rgba(255, 255, 255, 0.08), /* Sombra clara más sutil */
        inset 0 0 20px rgba(255, 255, 255, 0.02); /* Brillo interno muy sutil */
    width: 90%; /* Un poco más de ancho para aprovechar el espacio */
    max-width: 400px; /* Aumento del ancho máximo */
    text-align: center;
    transform: translateY(0) scale(0.95); /* Inicia ligeramente más pequeño y centrado */
    opacity: 0;
    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    color: var(--modal-text-color); /* Color de texto general para modales */
}

.modal-overlay.show .modal-content {
    transform: translateY(0) scale(1); /* Escala a tamaño completo y se mantiene centrado */
    opacity: 1;
}

/* Estilo específico para los modales de login (initial-access-modal y admin-login-modal) */
#initial-access-modal .modal-content,
#admin-login-modal .modal-content {
    background: linear-gradient(145deg, var(--modal-bg-gradient-start), var(--modal-bg-gradient-end)); /* Gradiente del modal con transparencia */
    border-radius: 40px; /* Bordes más redondeados como en la imagen */
    padding: 45px 35px; /* Más padding para el contenido */
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), /* Sombra más pronunciada */
                inset 0 0 25px rgba(255, 255, 255, 0.05); /* Brillo interno */
    backdrop-filter: blur(25px); /* Efecto de cristal esmerilado más fuerte */
    -webkit-backdrop-filter: blur(25px);
}

#initial-access-modal h3,
#admin-login-modal h3 {
    display: none; /* Ocultar títulos si el diseño de la imagen no los tiene explícitamente */
}

/* Icono de usuario en la parte superior del modal de login */
.modal-user-icon {
    font-size: 5em; /* Tamaño grande del icono */
    color: var(--primary-accent); /* Color del icono */
    margin-bottom: 30px; /* Espacio debajo del icono */
    text-shadow: 0 0 15px rgba(255, 0, 255, 0.5); /* Sombra para el brillo */
}

/* Contenedor para inputs con iconos */
.input-group {
    position: relative;
    margin-bottom: 30px; /* Espacio entre grupos de input */
    text-align: left; /* Alinea el label a la izquierda */
}

.input-group label {
    display: none; /* Ocultar labels si el diseño de la imagen no los tiene */
}

.input-group i {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    color: var(--modal-input-border); /* Color del icono */
    font-size: 1.2em;
    pointer-events: none; /* Asegura que el icono no bloquee el clic en el input */
}

.modal-content input[type="text"],
.modal-content input[type="tel"],
.modal-content input[type="password"] {
    width: calc(100% - 25px); /* Ajuste para el icono y padding */
    padding: 10px 0 10px 25px; /* Padding para el icono y texto */
    margin-bottom: 0; /* Controlado por el input-group */
    border: none;
    border-bottom: 2px solid var(--modal-input-border); /* Solo borde inferior */
    background-color: transparent; /* Fondo transparente */
    color: var(--modal-input-text); /* Color del texto del input */
    font-size: 1.1em;
    outline: none;
    box-shadow: none; /* Eliminar sombras neumórficas de los inputs para este estilo */
    transition: border-color 0.3s ease;
}

.modal-content input[type="text"]:focus,
.modal-content input[type="tel"]:focus,
.modal-content input[type="password"]:focus {
    border-color: var(--primary-accent); /* Borde fucsia al enfocar */
    box-shadow: none; /* Asegurar que no haya sombras adicionales */
}

/* Placeholder styling */
.modal-content input::placeholder {
    color: rgba(255, 255, 255, 0.5); /* Placeholder más sutil */
}

/* "Remember me" y "Forgot Password?" */
.modal-options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px; /* Espacio antes del botón de login */
    font-size: 0.95em;
}

.modal-options input[type="checkbox"] {
    margin-right: 8px;
    /* Estilo básico para el checkbox, se puede personalizar más con CSS */
}

.modal-options a {
    color: var(--modal-link-color); /* Color cian para el enlace */
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
}

.modal-options a:hover {
    color: var(--primary-accent); /* Cambia a fucsia al pasar el cursor */
}

/* Botones del modal (general) */
.modal-content button {
    background: linear-gradient(to right, var(--modal-button-gradient-start), var(--modal-button-gradient-end)); /* Gradiente para el botón */
    color: var(--modal-text-color);
    border: none;
    border-radius: 15px; /* Bordes redondeados para el botón */
    padding: 18px 30px;
    font-size: 1.2em;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4); /* Sombra para el efecto de elevación */
    transition: all 0.3s ease;
    width: 100%; /* Ocupa todo el ancho disponible */
    margin-bottom: 0; /* Eliminar margen inferior si es el último elemento */
}

.modal-content button:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6); /* Sombra más pronunciada al pasar el cursor */
    transform: translateY(-3px); /* Ligero levantamiento */
}

.modal-content button:active {
    transform: translateY(0); /* Vuelve a la posición original al presionar */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Sombra más sutil al presionar */
}

/* Ajustes para el botón de WhatsApp en initial-access-modal */
#send-request-button {
    background: linear-gradient(to right, #25D366, #128C7E); /* Colores de WhatsApp */
    margin-top: 20px;
}
#send-request-button:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6), 0 0 20px rgba(37, 211, 102, 0.5); /* Brillo verde */
}
#send-request-button:active {
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

/* Botón de volver en initial-access-modal */
#back-to-code-entry-button {
    background: none; /* Sin fondo */
    color: var(--modal-link-color); /* Color cian */
    box-shadow: none; /* Sin sombra */
    margin-top: 10px;
    font-size: 1em;
    font-weight: 500;
}
#back-to-code-entry-button:hover {
    color: var(--primary-accent);
    transform: none;
    box-shadow: none;
}
#back-to-code-entry-button:active {
    transform: none;
    box-shadow: none;
}


/* Estilos específicos para el Panel de Administración (no es un login, mantiene su estructura) */
#admin-panel-modal .modal-content {
    background: linear-gradient(145deg, var(--modal-bg-gradient-start), var(--modal-bg-gradient-end));
    border-radius: var(--border-radius-lg);
    padding: 35px;
    box-shadow: 
        15px 15px 30px rgba(0, 0, 0, 0.6), 
        -15px -15px 30px rgba(255, 255, 255, 0.08), 
        inset 0 0 20px rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px); /* Ligeramente menos blur que el login */
    -webkit-backdrop-filter: blur(20px);
}
#admin-panel-modal h3 {
    display: block; /* Mantener el título del panel de admin */
    color: var(--primary-accent);
    margin-bottom: 25px;
    text-shadow: 0 0 10px rgba(255, 0, 255, 0.4);
}
#admin-panel-modal .modal-message {
    color: var(--text-dark);
    font-size: 0.95em;
    margin-bottom: 20px;
}
#admin-panel-modal .current-code {
    color: var(--tertiary-accent);
    font-size: 1.2em;
    font-weight: 600;
    margin-bottom: 20px;
}
#admin-panel-modal label {
    display: block; /* Mantener labels para el panel de admin */
    text-align: left;
    margin-bottom: 8px;
    color: var(--text-dark);
    font-weight: 500;
}
#admin-panel-modal input[type="text"] {
    width: calc(100% - 24px); /* Ajuste de padding */
    padding: 14px 12px; /* Más padding para mejor tacto */
    margin-bottom: 20px;
    border: none;
    border-radius: 12px; /* Bordes ligeramente más redondeados */
    background-color: var(--dark-shadow);
    color: var(--text-light);
    box-shadow: inset 4px 4px 8px var(--dark-shadow), inset -4px -4px 8px var(--light-shadow);
    font-size: 1.05em;
}
#admin-panel-modal input[type="text"]:focus {
    box-shadow: inset 2px 2px 5px var(--dark-shadow), inset -2px -2px 5px var(--light-shadow),
                0 0 0 3px var(--primary-accent), 0 0 10px 2px rgba(255, 0, 255, 0.4); 
}
#admin-panel-modal button {
    background: linear-gradient(to right, var(--primary-accent), var(--secondary-accent));
    box-shadow: 6px 6px 12px var(--dark-shadow), -6px -6px 12px var(--light-shadow);
}
#admin-panel-modal button:hover {
    box-shadow: inset 4px 4px 8px var(--dark-shadow), inset -4px -4px 8px var(--light-shadow);
    transform: scale(0.99);
}
#admin-panel-modal button:active {
    box-shadow: inset 3px 3px 7px var(--dark-shadow), inset -3px -3px 7px var(--light-shadow),
                0 0 25px 10px var(--primary-accent); 
    transform: scale(0.96);
}

/* Modal de Actualización Forzada del Administrador (cuando el código expira) */
#forced-admin-update-modal .modal-content {
    background: linear-gradient(145deg, var(--modal-bg-gradient-start), var(--modal-bg-gradient-end));
    border: 2px solid var(--primary-accent);
    border-radius: var(--border-radius-lg);
    padding: 35px;
    box-shadow: 
        15px 15px 30px rgba(0, 0, 0, 0.6), 
        -15px -15px 30px rgba(255, 255, 255, 0.08), 
        inset 0 0 20px rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}
#forced-admin-update-modal h3 {
    display: block; /* Mantener el título */
    color: var(--primary-accent);
    text-shadow: 0 0 10px rgba(255, 0, 255, 0.4);
}
#forced-admin-update-modal .modal-message {
    color: var(--text-light);
    font-size: 1.0em;
    font-weight: 500;
}

/* Botón de cierre "X" - General styling for modals that keep it */
.modal-close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    background-color: transparent; /* Fondo transparente para este estilo */
    border: none;
    color: rgba(255, 255, 255, 0.7); /* Color blanco sutil */
    font-size: 1.5em; /* Tamaño del ícono */
    cursor: pointer;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.2s ease;
    box-shadow: none; /* Eliminar sombra neumórfica para este estilo */
}

.modal-close-button:hover {
    color: var(--primary-accent); /* Fucsia al pasar el cursor */
    background-color: rgba(255, 255, 255, 0.1); /* Fondo sutil al pasar el cursor */
    transform: scale(1.1); /* Ligero aumento de tamaño */
}

.modal-close-button:active {
    transform: scale(0.9); /* Efecto de presión */
    background-color: rgba(255, 255, 255, 0.2);
}

/*
 * Media Queries para una Responsividad Impecable.
 * Ahora, las media queries se centran en ajustar el diseño para pantallas más pequeñas,
 * y el diseño base es el marco de dispositivo.
 */
@media (max-width: 799px), (max-height: 899px) { /* Para pantallas más pequeñas que 800px de ancho o 900px de alto */
    .app-frame {
        width: 100vw;
        height: 100vh;
        border-radius: 0;
        box-shadow: none;
    }
    .status-bar {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }
    .nav-bar {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }
    #floating-deploy-button {
        right: 20px; /* Menos espacio desde el borde derecho */
        bottom: 100px; /* Menos espacio desde abajo para no chocar con el dock */
        width: 110px; /* Más pequeño */
        height: 45px; /* Más pequeño */
        font-size: 0.75em; /* Fuente más pequeña para asegurar que quepa */
        padding: 6px 12px; /* Padding más reducido */
    }
    #floating-deploy-button i {
        font-size: 1.2em; /* Icono más pequeño en móvil */
    }
}

@media (min-width: 800px) and (min-height: 900px) { /* Para pantallas grandes (desktop) */
    .nav-bar {
        bottom: 30px; /* Elevar un poco el dock en pantallas grandes */
        height: 85px; /* Ligeramente más alto */
        border-radius: 40px; /* Mantener bordes redondeados para el dock en desktop */
        max-width: 90%; /* Limita el ancho del dock en pantallas más grandes */
        left: 50%; /* Centrar el dock */
        transform: translateX(-50%); /* Centrar el dock */
    }
    .nav-item i {
        font-size: 1.8em; /* Iconos más grandes en desktop */
    }
    .nav-item span {
        transform: translateY(-55px); /* Texto se eleva más */
        font-size: 0.85em;
    }
    #floating-deploy-button {
        right: 40px; /* Más espacio desde el borde derecho */
        bottom: 120px; /* Más espacio desde abajo para no chocar con el dock */
        width: 130px; /* Ancho ajustado para el texto */
        height: 55px; /* Alto ajustado */
        font-size: 0.85em; /* Fuente más pequeña para asegurar que quepa */
        padding: 10px 15px; /* Padding reducido */
    }
    #floating-deploy-button i {
        font-size: 1.5em; /* Icono un poco más pequeño en desktop */
    }
}

/* Estilos para el botón flotante de despliegue */
#floating-deploy-button {
    position: absolute; /* Usar absolute dentro de app-frame */
    right: 25px; /* Distancia desde el borde derecho */
    bottom: 100px; /* Distancia desde la parte inferior (por encima del nav-bar) */
    background: linear-gradient(45deg, var(--tertiary-accent), var(--primary-accent)); /* Gradiente cian a fucsia */
    color: var(--text-light);
    border: none;
    border-radius: var(--border-radius-md);
    padding: 15px 25px; /* Padding original, se ajusta en media queries */
    font-size: 1.05em; /* Fuente original, se ajusta en media queries */
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 15px rgba(0, 255, 255, 0.6); /* Sombra y brillo cian */
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 15; /* Asegura que esté por encima de otros elementos */
    will-change: transform, box-shadow;
}

#floating-deploy-button i {
    font-size: 1.6em;
    color: var(--text-light); /* Color del icono */
}

#floating-deploy-button:hover {
    transform: translateY(-5px) scale(1.02); /* Ligero levantamiento y escala */
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.6), 0 0 25px rgba(0, 255, 255, 0.8); /* Sombra y brillo más intensos */
}

#floating-deploy-button:active {
    transform: translateY(0) scale(0.98); /* Efecto de presión */
    box-shadow: inset 3px 3px 7px rgba(0, 0, 0, 0.3), inset -3px -3px 7px rgba(255, 255, 255, 0.1),
                0 0 10px rgba(0, 255, 255, 0.4); /* Sombra interna y brillo sutil */
}
